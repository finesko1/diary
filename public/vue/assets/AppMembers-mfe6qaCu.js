import{f as q,h as T,c as r,o,F as S,a as e,u as E,r as g,D as d,k as L,w as z,i as F,b as I,t as u,d as M,n as c,m as k,j as V,G as D,p as N}from "./index-B3aGkqQj.js";const H=q({__name:"MembersHeader",setup(C){return T(),(w, i)=>(o(),r(S,null,[i[0]||(i[0]=e("div",{class:"flex p-2 w-full text-center"},null,-1)),i[1]||(i[1]=e("div",{class:"flex bg-indigo-500/50 p-2 min-w-max text-center rounded-md cursor-default"}," Пользователи ",-1)),i[2]||(i[2]=e("div",{class:"flex p-2 w-full text-center"},null,-1))],64))}}),U={class:"relative flex flex-1 flex-col items-center min-h-0 w-full space-y-1 overflow-auto scrollbar-members-custom pr-1"},Z={key:0,class:"flex flex-col items-center justify-center h-32 text-gray-500 p-4"},A={class:"text-center text-sm"},G={class:"flex space-x-4 w-full"},P={class:"flex relative flex-shrink-0"},J=["onClick","src"],K={class:"flex flex-col w-full h-full"},Q={class:"flex sm:flex-row items-center justify-center flex-1 flex-col gap-2 mb-1 w-full h-full"},W=["onClick"],X={class:"truncate"},Y={class:"truncate"},ee={class:"w-30 text-xs text-center rounded-md font-medium whitespace-nowrap"},te={class:"whitespace-nowrap cursor-default group/contacts"},se={class:"text-xs text-gray-600 truncate hidden sm:flex"},re={key:0,class:"absolute group-hover:flex max-sm:mt-6 hidden right-4 gap-1 flex-col"},oe={key:0,class:"whitespace-nowrap cursor-pointer group/contacts max-md:text-xs max-md:w-40 font-medium w-60"},ne={key:1,class:"font-medium whitespace-nowrap group/newContact"},le={key:2,class:"font-medium whitespace-nowrap group/sendRequest"},ae={key:3,class:"font-medium whitespace-nowrap group/blocked"},ie={key:4,class:"flex gap-1 w-60"},de=["onClick"],ue=["onClick"],ce=["onClick"],me={key:1,class:"flex gap-1 flex-col"},fe={key:1,class:"flex gap-1 w-60 justify-center"},pe=["onClick"],xe=["onClick"],ve=["onClick"],ge={__name:"MembersBody",props:{activeTab:{type:String,default:"students"},roleOption:{type:String,default:"all"}},setup(C){const w=C,i=E(),m=g([{firstName:"Алена",surname:"Кравченко",email:"alena@mail.ru",userId:"student1",imgSrc:d,role:"student",status:"contacts",isOnline:!0,friendStatus:1},{firstName:"Иван",surname:"Петров",email:"ivan@mail.ru",userId:"student2",imgSrc:d,role:"teacher",status:"contacts",isOnline:!1,friendStatus:1},{firstName:"Мария",surname:"Сидорова",email:"maria@mail.ru",userId:"teacher1",imgSrc:d,role:"teacher",status:"all",isOnline:!0,friendStatus:1},{firstName:"Алексей",surname:"Козлов",email:"alex@mail.ru",userId:"teacher2",imgSrc:d,role:"student",status:"all",isOnline:!0,friendStatus:0},{firstName:"Алексей",surname:"Козлов",email:"alex@mail.ru",userId:"teacher2",imgSrc:d,role:"student",status:"all",isOnline:!0,friendStatus:2},{firstName:"Новый",surname:"Пользователь",email:"new@mail.ru",userId:"pending1",imgSrc:d,role:"student",status:"pending",isOnline:!1,friendStatus:2},{firstName:"Еще",surname:"Заявка",email:"request@mail.ru",userId:"pending2",imgSrc:d,role:"teacher",status:"pending",isOnline:!1,friendStatus:2},{firstName:"Еще",surname:"Заявка",email:"request@mail.ru",userId:"pending2",imgSrc:d,role:"teacher",status:"pending2",isOnline:!1,friendStatus:3},{firstName:"Еще",surname:"Заявка",email:"request@mail.ru",userId:"pending2",imgSrc:d,role:"student",status:"pending2",isOnline:!1,friendStatus:3},{firstName:"Иван",surname:"Заблокированный",email:"block@mail.ru",userId:"blocked1",imgSrc:d,role:"student",status:"blocked",isOnline:!1,friendStatus:4},{firstName:"Иван",surname:"Заблокированный",email:"block@mail.ru",userId:"blocked2",imgSrc:d,role:"teacher",status:"blocked",isOnline:!0,friendStatus:4}]),f=g("all"),p=L(()=>{let t=m.value;switch(w.activeTab){case"contacts":t=t.filter(n=>n.status==="contacts");break;case"all":t=m.value;break;case"requests":t=t.filter(n=>n.status==="pending"||n.status==="pending2");break;case"blocked":t=t.filter(n=>n.status==="blocked");break;default:t=m.value}switch(f.value){case"teachers":t=t.filter(n=>n.role==="teacher");break;case"students":t=t.filter(n=>n.role==="student");break}return t});z(()=>w.roleOption, t=>{f.value=t});const v= t=>{console.log("Принятие заявки от пользователя:",t)},b= t=>{console.log("Отклонение заявки от пользователя:",t)},$= t=>({student:"border-blue-400",teacher:"border-green-400",pending:"border-yellow-400"})[t]||"border-gray-300",O= t=>({student:"bg-blue-500/70",teacher:"bg-green-500/70",pending:"bg-yellow-500/70"})[t]||"bg-gray-500",x= t=>({student:"Ученик",teacher:"Преподаватель",pending:"На рассмотрении"})[t]||"Пользователь",a= t=>({0:"bg-indigo-500",1:"bg-red-300/40",2:"bg-red-300/40",4:"bg-red-300/40"})[t],l= t=>({0:"Отправить приглашение",1:"Удалить",2:"Отменить запрос",4:"Разблокировать"})[t],j= t=>({0:"bg-gray-400/20",1:"bg-green-400/20",2:"bg-yellow-500/80 text-white",3:"bg-yellow-500/80 text-white",4:"bg-red-500/80 text-white"})[t],B= t=>({0:"Не в контактах",1:"В контактах",2:"Запрос отправлен",3:"Запрос получен",4:"Заблокирован"})[t],_= t=>{i.push({name:"profile",params:{shortName:t}})};g(!1),g(null);const y=F("deviceType");return(t, n)=>(o(),r("div",U,[p.value.length===0?(o(),r("div",Z,[n[0]||(n[0]=e("svg",{class:"w-12 h-12 mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1)),e("p",A,u(t.emptyMessage),1)])):I("",!0),(o(!0),r(S,null,M(p.value,(s, R)=>(o(),r("div",{key:R,class:"relative flex flex-col sm:flex-row max-w-2xl w-full items-center justify-center bg-white/80 rounded-lg cursor-default group hover:bg-white/40 transition-all duration-200 border border-transparent hover:border-teal-500/40 p-3 sm:pr-4"},[e("div",G,[e("div",P,[e("img",{onClick: h=>_(s.userId),class:c(["w-12 h-12 sm:w-14 sm:h-14 rounded-full object-cover cursor-pointer border-2 shadow-sm",$(s.role)]),src:s.imgSrc,alt:"Фото профиля"},null,10,J),e("div",{class:c(["absolute bottom-4 right-0",{"max-sm:bottom-8":k(y)!=="desktop","max-sm:bottom-14":k(y)==="desktop"}])},[e("div",{class:c(["w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full border-2 border-white",s.isOnline?"bg-green-500 blinking":"bg-gray-400"])},null,2)],2)]),e("div",K,[e("div",Q,[e("div",{onClick: h=>_(s.userId),class:"flex flex-col space-x-2 font-medium text-gray-800 text-sm cursor-pointer hover:underline hover:underline-offset-6 sm:text-base max-md:w-2/5 max-lg:w-1/3 max-sm:w-full w-2/5 justify-start"},[e("div",X,u(s.firstName),1),e("div",Y,u(s.surname),1)],8,W),e("div",{class:c(["flex flex-col justify-start space-x-2 space-y-1 w-full",{"flex-row":k(y)!=="desktop"}])},[e("div",{class:c(["px-2 py-1 w-30 text-xs text-center rounded-md text-white font-medium whitespace-nowrap",O(s.role)])},u(x(s.role)),3),e("div",ee,[e("div",te,[e("div",{class:c(["flex justify-center px-2 py-1 rounded-md",j(s.friendStatus)])},u(B(s.friendStatus)),3)])])],2)]),e("div",se,u(s.email),1)])]),k(y)==="desktop"?(o(),r("div",re,[s.friendStatus===1?(o(),r("div",oe,[...n[1]||(n[1]=[e("div",{class:"flex group-hover/contacts:hidden justify-center bg-green-400/20 p-2 rounded-md"}," В контактах ",-1),e("div",{class:"hidden group-hover/contacts:flex justify-center bg-red-300/40 p-2 rounded-md"}," Удалить ",-1)])])):s.friendStatus===0?(o(),r("div",ne,[...n[2]||(n[2]=[e("div",{class:"flex group-hover/newContact:hidden p-2 justify-center rounded-md bg-gray-500 max-md:text-xs max-md:w-40 font-medium w-60 text-white cursor-default"}," Не в друзьях ",-1),e("div",{class:"hidden group-hover/newContact:flex p-2 justify-center rounded-md bg-indigo-300/40 max-md:text-xs max-md:w-40 font-medium w-60 text-default cursor-pointer"}," Отправить приглашение ",-1)])])):s.friendStatus===2?(o(),r("div",le,[...n[3]||(n[3]=[e("div",{class:"flex group-hover/sendRequest:hidden p-2 justify-center rounded-md bg-yellow-500 max-md:text-xs max-md:w-40 font-medium w-60 text-white cursor-default"}," Запрос отправлен ",-1),e("div",{class:"hidden group-hover/sendRequest:flex p-2 justify-center rounded-md bg-red-300/40 max-md:text-xs max-md:w-40 font-medium w-60 text-default cursor-pointer"}," Отменить запрос ",-1)])])):s.friendStatus===4?(o(),r("div",ae,[...n[4]||(n[4]=[e("div",{class:"flex group-hover/blocked:hidden p-2 justify-center rounded-md bg-red-500 max-md:text-xs max-md:w-40 font-medium w-60 text-white cursor-default"}," Заблокирован ",-1),e("div",{class:"hidden group-hover/blocked:flex p-2 justify-center rounded-md bg-green-300/40 max-md:text-xs max-md:w-40 font-medium w-60 text-default cursor-pointer"}," Разблокировать ",-1)])])):s.friendStatus===3?(o(),r("div",ie,[e("button",{onClick: h=>v(s.userId),class:"w-full p-2 rounded-md bg-green-500 text-white cursor-pointer hover:bg-green-600 transition-colors duration-200 shadow-md text-sm font-medium whitespace-nowrap"}," Принять ",8,de),e("button",{onClick: h=>b(s.userId),class:"w-full p-2 rounded-md bg-red-500 text-white cursor-pointer hover:bg-red-600 transition-colors duration-200 shadow-md text-sm font-medium whitespace-nowrap"}," Отклонить ",8,ue)])):(o(),r("button",{key:5,onClick: h=>_(s.userId),class:"p-2 rounded-md bg-gray-500 text-white cursor-pointer hover:bg-gray-600 transition-colors duration-200 shadow-md text-sm font-medium whitespace-nowrap"}," Просмотреть профиль ",8,ce))])):(o(),r("div",me,[s.friendStatus!==3?(o(),r("button",{key:0,class:c(["flex text-xs font-medium whitespace-nowrap w-60 p-2 rounded-md justify-center",a(s.friendStatus)])},u(l(s.friendStatus)),3)):s.friendStatus===3?(o(),r("div",fe,[e("button",{onClick: h=>v(s.userId),class:"w-full p-2 rounded-md bg-green-500 text-white cursor-pointer hover:bg-green-600 transition-colors duration-200 shadow-md text-xs font-medium whitespace-nowrap"}," Принять ",8,pe),e("button",{onClick: h=>b(s.userId),class:"w-full p-2 rounded-md bg-red-500 text-white cursor-pointer hover:bg-red-600 transition-colors duration-200 shadow-md text-xs font-medium whitespace-nowrap"}," Отклонить ",8,xe)])):(o(),r("button",{key:2,onClick: h=>_(s.userId),class:"p-2 rounded-md bg-gray-500 text-white cursor-pointer hover:bg-gray-600 transition-colors duration-200 shadow-md text-sm font-medium whitespace-nowrap"}," Просмотреть профиль ",8,ve))]))]))),128))]))}},he={class:"flex flex-col flex-1 min-h-0 w-full bg-white/80 rounded-md p-2 m-2"},we={class:"flex flex-wrap justify-center gap-2 mb-2 md:mb-4"},be={class:"flex justify-center w-full"},_e={class:"flex w-full"},ye={class:"flex w-full justify-start md:hidden",id:"roleOptions"},ke={class:"relative"},Se={class:"text-gray-700 font-medium underline underline-offset-4 text-xs md:text-sm"},Ce={class:"border border-gray-300 rounded-full p-1 shadow-md hover:shadow-lg transition-shadow duration-200"},$e={key:0,class:"absolute top-10 left-0 bg-white border border-gray-200 rounded-lg shadow-lg py-2 min-w-48 z-50"},Oe=["onClick"],je={class:"text-xs md:text-sm"},Ie={class:"flex w-full justify-end md:hidden",id:"userOptions"},Me={class:"relative"},Ne={class:"text-gray-700 font-medium underline underline-offset-4 text-xs md:text-sm"},Be={class:"border border-gray-300 rounded-full p-1 shadow-md hover:shadow-lg transition-shadow duration-200"},Re={key:0,class:"absolute top-10 right-0 bg-white border border-gray-200 rounded-lg shadow-lg py-2 min-w-48 z-50"},qe=["onClick"],Te={class:"text-sm"},Ee={class:"flex flex-col flex-1 h-full w-full items-center gap-2 overflow-hidden"},ze={__name:"AppMembers",setup(C){const w=[{value:"contacts",label:"Мои контакты"},{value:"all",label:"Все пользователи"},{value:"requests",label:"Заявки"},{value:"blocked",label:"Заблокированные"}],i=[{value:"all",label:"Все категории"},{value:"students",label:"Обучающиеся"},{value:"teachers",label:"Преподаватели"}],m=g(w[0]),f=g(!1),p=g(!1),v=g(i[0]);V(()=>{document.addEventListener("click",b)}),D(()=>{document.removeEventListener("click",b)});const b= x=>{const a=document.getElementById("roleOptions"),l=document.getElementById("userOptions");a&&!a.contains(x.target)&&(p.value=!1),l&&!l.contains(x.target)&&(f.value=!1)},$= x=>{m.value=x,f.value=!1},O= x=>{v.value=x,p.value=!1};return(x, a)=>(o(),r("div",he,[e("div",we,[e("div",be,[N(H)]),e("div",_e,[e("div",ye,[e("div",ke,[e("div",{class:"flex items-center space-x-2 cursor-pointer",onClick:a[0]||(a[0]= l=>p.value=!p.value)},[e("div",Se,u(v.value.label),1),e("div",Ce,[(o(),r("svg",{class:c(["w-4 h-4 md:w-5 md:h-5 text-gray-600 transition-transform duration-200",{"rotate-180":p.value}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960"},[...a[2]||(a[2]=[e("path",{d:"M480-360 280-560h400L480-360Z"},null,-1)])],2))])]),p.value?(o(),r("div",$e,[(o(),r(S,null,M(i, l=>e("div",{key:l.value,onClick: j=>O(l),class:c(["px-4 py-2 hover:bg-blue-50 cursor-pointer transition-colors duration-200",{"text-blue-600 font-medium bg-blue-50":v.value.value===l.value,"text-gray-700":v.value.value!==l.value}])},[e("span",je,u(l.label),1)],10,Oe)),64))])):I("",!0)])]),e("div",Ie,[e("div",Me,[e("div",{class:"flex items-center space-x-2 cursor-pointer",onClick:a[1]||(a[1]= l=>f.value=!f.value)},[e("div",Ne,u(m.value.label),1),e("div",Be,[(o(),r("svg",{class:c(["w-4 h-4 md:w-5 md:h-5 text-gray-600 transition-transform duration-200",{"rotate-180":f.value}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960"},[...a[3]||(a[3]=[e("path",{d:"M480-360 280-560h400L480-360Z"},null,-1)])],2))])]),f.value?(o(),r("div",Re,[(o(),r(S,null,M(w, l=>e("div",{key:l.value,onClick: j=>$(l),class:c(["px-4 py-2 hover:bg-blue-50 cursor-pointer transition-colors duration-200",{"text-blue-600 font-medium bg-blue-50":m.value.value===l.value,"text-gray-700":m.value.value!==l.value}])},[e("span",Te,u(l.label),1)],10,qe)),64))])):I("",!0)])])])]),e("div",Ee,[N(ge,{activeTab:m.value.value,roleOption:v.value.value},null,8,["activeTab","roleOption"])])]))}};export{ze as default};
